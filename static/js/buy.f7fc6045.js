(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["buy"],{"25f0":function(t,s,i){"use strict";var a=i("6eeb"),e=i("825a"),r=i("d039"),n=i("ad6d"),l="toString",o=RegExp.prototype,c=o[l],u=r((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=l;(u||d)&&a(RegExp.prototype,l,(function(){var t=e(this),s=String(t.source),i=t.flags,a=String(void 0===i&&t instanceof RegExp&&!("flags"in o)?n.call(t):i);return"/"+s+"/"+a}),{unsafe:!0})},"54ec":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticStyle:{"max-width":"350pt",margin:"30pt auto","text-align":"left"}},[t.publishSucc?t._e():i("form",{ref:"publishform",staticClass:"needs-validation",attrs:{novalidate:""}},[i("div",{staticClass:"row mb-3"},[i("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputEmail3"}},[t._v("哈希")]),i("div",{staticClass:"col-sm-10"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hash,expression:"hash"}],ref:"publishform_hash",staticClass:"form-control",attrs:{readonly:"",id:"inputEmail3"},domProps:{value:t.hash},on:{input:function(s){s.target.composing||(t.hash=s.target.value)}}}),i("div",{staticClass:"invalid-feedback"},[t._v(" 请输入一个正确的hash. ")])])]),i("div",{staticClass:"row mb-3"},[i("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"publishtitle"}},[t._v("标题")]),i("div",{staticClass:"col-sm-10"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"publishform_title",staticClass:"form-control",attrs:{readonly:"",id:"publishtitle",required:""},domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}}}),i("div",{staticClass:"invalid-feedback"},[t._v(" 标题的长度必须在5到20个字符之间 ")])])]),i("div",{staticClass:"row mb-3"},[i("label",{staticClass:"col-sm-2 col-form-label text-nowrap",attrs:{for:"inputPassword3"}},[t._v("传输费 *")]),i("div",{staticClass:"col-sm-10"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],ref:"publishform_transfee",staticClass:"form-control",attrs:{type:"number",id:"inputPassword3"},domProps:{value:t.price},on:{input:function(s){s.target.composing||(t.price=s.target.value)}}}),i("div",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.serverError||"传输费必须大于0.")+" ")])])]),i("button",{staticClass:"btn btn-primary",attrs:{disabled:t.publishing,type:"submit"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.dobuy(s)}}},[t._v(" 购买 ")])])])},e=[],r=i("1da1"),n=(i("96cf"),i("d3b7"),i("25f0"),i("a18c")),l=i("d81b"),o={data:function(){return{hash:"",title:"",price:1,publishing:!1,publishSucc:!1,serverError:""}},methods:{dobuy:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(i=!0,t.price<=0?(i=!1,t.$refs.publishform_transfee.classList.add("is-invalid")):t.$refs.publishform_transfee.classList.add("is-valid"),!i){s.next=9;break}return t.publishing=!0,window.animation(!0),s.next=7,Object(n["c"])(10);case 7:console.log("wallet unlocked "),l("buyhash",[t.hash,parseFloat(t.price)],(function(s){console.log(s),t.publishing=!1,t.publishSucc=!0,window.animation(!1)}),(function(s){t.publishing=!1,t.serverError=s.toString(),t.$refs.publishform_transfee.classList.add("is-invalid"),window.animation(!1)}));case 9:case"end":return s.stop()}}),s)})))()}},created:function(){this.title=this.$route.params.title,this.hash=this.$route.params.hash}},c=o,u=i("2877"),d=Object(u["a"])(c,a,e,!1,null,null,null);s["default"]=d.exports},ad6d:function(t,s,i){"use strict";var a=i("825a");t.exports=function(){var t=a(this),s="";return t.global&&(s+="g"),t.ignoreCase&&(s+="i"),t.multiline&&(s+="m"),t.dotAll&&(s+="s"),t.unicode&&(s+="u"),t.sticky&&(s+="y"),s}}}]);
//# sourceMappingURL=buy.f7fc6045.js.map